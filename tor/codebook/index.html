<html lang="en">
<head>
	<title>NZ Police Tactical Options Reporting Data</title>

	<script src="/assets/scripts/app/main.js" type="module"></script>
	<script src="/assets/scripts/app/codebook/codebook.js" type="module"></script>

	<link rel="stylesheet" href="/assets/css/style.css" />

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="This document describes how NZ Police Tactical Options Reporting data was analysed to produce various charts." />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@HonestUniverse" />
	<meta name="twitter:creator" content="@HonestUniverse" />
	<meta property="og:title" content="NZ Police Tactical Options Reporting Data" />
	<meta property="og:description" content="This document describes how NZ Police Tactical Options Reporting data was analysed to produce various charts." />
	<meta property="og:image" content="https://features.honestuniverse.com/assets/images/police-aos.jpg" />
	<!-- Source of OpenGraph image:
		https://commons.wikimedia.org/wiki/File:Wellington_Armed_Offenders_Squad_(AOS)_-_Flickr_-_111_Emergency_(2).jpg
		Used under CC BY 2.0 License. Image has been cropped from the original -->
</head>
<body>
	<div class="layout">
		<article>
			<section>
				<div class="content">
					<h1>NZ Police Tactical Options Reporting Data</h1>

					<div class="article-meta">
						<span class="article-meta__author">by Mark Hanna</span>
						<span class="article-meta__date">Published 2020-06-06</span>
						<span class="article-meta__date">Updated 2020-06-12</span>
					</div>

					<p>This document describes how NZ Police Tactical Options Reporting data was analysed to produce various charts.</p>

					<p>I used my <a href="https://github.com/Cipscis/charter" target="_blank">Charter</a> data analysis library to load and process the data, and to produce all the charts in this document.</p>

					<p>The charts were produced based on three sources of Tactical Options Reporting (TOR) data released by New Zealand Police under the Official Information Act (OIA).</p>

					<p>TOR data records how NZ Police used force, with certain exceptions:</p>

					<ul>
						<li>Presentation of tasers or firearms by the Armed Offenders Squad (AOS) or Special Tactics Group (STG)</li>
						<li>Prior to 2018, events in which someone died</li>
					</ul>

					<p>For information regarding how Police record their use of force in the TOR database, please see the document <a href="../references/Use of Force Overview Reporting.pdf" target="_blank">Use of Force Overview - Reporting (PDF)</a>. This document was extracted from the NZ Police Intranet on 23 August 2019, and <a href="https://fyi.org.nz/request/10536-use-of-force-and-police-dogs-chapter-of-the-police-manual#incoming-39362" target="_blank">released by Police</a> under the OIA on 26 August 2019.</p>

					<p>This Police guideline contains some important caveats regarding when Police do and don't record certain types of force. In particular, uses of "open hand" don't include pushing a person unless that person falls, and uses of "handcuff/restraint" are only recorded if it is used with "pain compliance" or if it is used alongside another tactical option:</p>

					<blockquote>
						<h3>Employees who use force must report</h3>

						<h4>Shows of force</h4>

						<p>Shows of:</p>

						<ul>
							<li>a TASER (i.e. presentation, laser painting or arcing)</li>
							<li>A firearm.</li>
						</ul>

						<p>To be reported on: <strong>Standard TOR</strong></p>

						<p><strong>Note: Excluding</strong> Armed Offenders Squad or Special Tactics Group shows of a TASER or a firearm and shows of force during training.</p>

						<h4>Uses of force</h4>

						<p><span class="text-decoration: underline;">Uses</span> of:</p>

						<ul>
							<li>communication, but <strong>only</strong> when used with one or more of the tactical options below, and <strong>only</strong> the first time it is used</li>
							<li>
								metal or plastic handcuffs, a waist restraint belt, and a leg restraint &mdash; vehicle:
								<ul>
									<li><strong>with</strong> <span style="text-decoration: underline;">pain compliance</span></li>
									<li><strong>without</strong> pain compliance, but <strong>only</strong> when handcuffs, a waist restraint belt, and a leg restraint &mdash; vehicle are used with another reportable tactical option</li>
								</ul>
							</li>
							<li>a spitting hood</li>
							<li>a restraint chair</li>
							<li><span style="text-decoration: underline;">empty hand techniques</span> <strong>excluding</strong> touching, guiding, escorting, lifting, and pushing where a person does not fall to the ground</li>
							<li>O C spray (spraying)</li>
							<li>a baton (striking)</li>
							<li>a weapon of opportunity, e.g. a Police torch</li>
							<li>a Police dog when the subject is bitten and/or otherwise injured</li>
							<li>a TASER by discharge and/or contact stun</li>
							<li>a sponge round</li>
							<li>a firearm (discharge).</li>
						</ul>

						<p>To be reported on: <strong>Standard TOR</strong></p>

						<p>
							<strong>Notes:</strong><br />
							<strong>Excluding</strong> any use of force during training.<br />
							Unintentional or unauthorised TASER or firearms discharges must be reported in an Unintentional/Unauthorised Discharge form.
						</p>

						<cite><a href="../references/Use of Force Overview Reporting.pdf" target="_blank">Use of Force Overview - Reporting</a> | NZ Police</cite>
					</blockquote>

					<p>Each individual TOR report records one officer using force against one person. If two officers use force against one person, this will be recorded as two separate TOR events.</p>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-data-tor-2016-jul-dec" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Data: TOR July&nbsp;&ndash;&nbsp;December&nbsp;2016</span> <a class="anchor" href="#section-data-tor-2016-jul-dec"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>On 30 November 2016, Emmy Rākete requested information from Police under the OIA, including:</p>

						<blockquote>
							<p>Provide all raw data being used in the creation of the biannual tactical options research report for 1 July &ndash; 31 December 2016.</p>

							<cite><a href="https://fyi.org.nz/request/5039-tactical-options-research-report#outgoing-9769" target="_blank">OIA request: Tactical options research report</a> | Emmy Rākete</cite>
						</blockquote>

						<p>In their response on 22 December 2016, Police refused the request under <a href="http://www.legislation.govt.nz/act/public/1982/0156/latest/whole.html#DLM64785" target="_blank">section 18(e) of the OIA</a>, asserting that the requested information did not exist. They also explained:</p>

						<blockquote>
							<p>a technical fault occurred with the Tactical Options Reporting (TOR) database which has delayed the production of the report on the use of tactical options in 2015. The technical fault has been fixed, however, there are carry-on issues which are still being resolved.</p>

							<cite><a href="https://fyi.org.nz/request/5039/response/16394/attach/3/Rakete%20Emmy%2016%2011336%20reply.pdf" target="_blank">Superintendent Chris Scahill</a> | NZ Police</cite>
						</blockquote>

						<p>On 18 January 2017, <a href="https://fyi.org.nz/request/5039-tactical-options-research-report#incoming-16673" target="_blank">Police acknowledged</a> that Ms Rākete considered two matters in her request to be outstanding, and extended her request to 20 February 2017.</p>

						<p>On 16 March 2017, NZ Police sent <a href="https://fyi.org.nz/request/5039/response/17868/attach/4/Rakete%20Emilie%2016%2011336%20reply.pdf" target="_bank">a further response</a>, in which they acknowledged that they had been informed by the Ombudsman that Ms Rākete had laid a complaint because Police had not responded to two parts of her request, including the part asking for raw TOR data.</p>

						<p>In this response, Police explained that they had refused Ms Rākete's request for data being used in the creation of the TOR report to cover July-December 2016 because no such report was being created, and the data covering July-December 2016 was incomplete.</p>

						<p>However, Police also said they had reconsidered Ms Rākete's request for raw data, and released TOR data covering 1 July &ndash; 31 December 2016 in the following spreadsheet:

						<p><a href="../data/2016/jul-dec/170202 RAKETE 16 11336 TOR xlsx.xlsx" target="_blank">170202 RAKETE 16 11336 TOR xlsx.xlsx</a></p>

						<p>This spreadsheet contains a "Notes" sheet detailing how the export was created and what fields had been removed or recoded:</p>

						<blockquote>
							<p>The export was created using the following search criteria</p>
							<ul>
								<li>Incident start date = 1/07/2016</li>
								<li>Incident end date = 31/12/2016</li>
							</ul>

							<p>The following fields have been removed pursuant to section 9(2)(a) of the Official Infromation [<i>sic</i>] Act 1982</p>
							<ul>
								<li>Incident station</li>
								<li>Area</li>
								<li>Reporter Name</li>
								<li>Reporter QID</li>
								<li>Reporter Rank</li>
								<li>Reporter position</li>
								<li>Other Police QIDs</li>
								<li>Subject [name]</li>
								<li>TaserCam Serial No</li>
							</ul>

							<p>The following fields have been replaced by other calculated fields pursuant to section 9(2)(a) of the Official Infromation [<i>sic</i>] Act 1982</p>
							<ul>
								<li>Incident date has been replaced by month and year</li>
								<li>Subject DOB has been replaced by Subject Age</li>
							</ul>

							<p>The following fields have been removed, pursuant to section 9(2)(a) of the Offician Infromation [<i>sic</i>] Act 1982</p>
							<ul>
								<li>Your [Reporter] Role</li>
								<li>[Subject] Role</li>
								<li>Relevant factors</li>
								<li>Subject Weapon</li>
								<li>Subject behaviours [for all Tactical Options]</li>
								<li>Handcuff Types for all uses of Handcuff/Restraints]</li>
								<li>Technique [for all uses of Empty Hand tactics]</li>
								<li>Reason no warning [for all uses of TASER]</li>
								<li>Other tactic [type] [for all uses of Other tactics]</li>
								<li>Most effective tactic</li>
								<li>Subject resolution</li>
								<li>Staff Injury: type</li>
								<li>Staff Injury By Police: Actions</li>
								<li>Staff Injury By Equipment</li>
								<li>Staff Injury By Equipment: Failure</li>
								<li>Staff Injury by Other</li>
								<li>SRBA: Why Not</li>
								<li>SRBA: Negative How</li>
							</ul>

							<p>
								Caveats:<br />The records provided in this spreadsheet are derived from the Tactical Options Reporting (TOR) database which records the reportable use of force by Police officers. Each row is a "TOR event" which is the reportable use of one or more tactical options, by one officer, against one individual. Multiple TOR events can occur at one incident. TOR data does not include events where the use of force is associated with a fatality as these events are instead the subject of internal and external investigations.
							</p>

							<cite>NZ Police</cite>
						</blockquote>

						<p>The Notes sheet also included the following section. I have added emphasis:</p>

						<blockquote>
							<p>While this data could potentially be used to create a biannual report, this data is incomplete and has not been cleaned or coded for analysis or to correct any errors. Some columns have been removed or altered (as outlined above), pursuant to section 9(2)(a) of the Official Information Act 1982, to protect the privacy of natural persons. Given the incomplete and unreliable nature of this data, Police takes no responsibility for its accuracy and correctness, and advises that it is incomplete. <strong>Police requests that if you publish this data in any form, you attach a proviso noting that Police have communicated to you that this information is raw data which has not been checked and which is therefore incomplete and unreliable</strong>. Furthermore, Police will not be liable for any loss or damage arising directly or indirectly from reliance on the data or information presented in the spreadsheet.</p>

							<cite>NZ Police</cite>
						</blockquote>

						<p>I converted the "Export - Redacted" sheet of this spreadsheet to a CSV using Google Sheets:</p>

						<p><a href="../data/2016/jul-dec/170202 RAKETE 16 11336 TOR xlsx.xlsx - Export - Redacted.csv" target="_blank">170202 RAKETE 16 11336 TOR xlsx.xlsx - Export - Redacted.csv</a></p>

						<p>This data was loaded into Charter using this code:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code js-codebook__source">
						let fileConfig2016 = (() => {
							let cols = Analyser.getColNumbers({
								ID: 'A',
								MONTH: 'C',
								YEAR: 'D',
								TIME: 'E',

								DISTRICT: 'F',
								AGE: 'I',
								GENDER: 'J',
								ETHNICITY: 'K',
								SUBJECT_ARMED: 'L',
								TACTICS: 'M',

								INCIDENT_TYPE: 'FS',

								// INJURY
								INJURIES: 'FT',
								INJURY_CAUSE_1: 'FU',
								INJURY_CAUSE_2: 'FZ',
								INJURY_CAUSE_3: 'GE',

								INJURY_SITE_1: 'FV',
								INJURY_SITE_2: 'GA',
								INJURY_SITE_3: 'GF',

								INJURY_TYPE_1: 'FW',
								INJURY_TYPE_2: 'GB',
								INJURY_TYPE_3: 'GG',

								INJURY_TREATMENT_REQUIRED_1: 'FX',
								INJURY_TREATMENT_RECEIVED_1: 'FY',
								INJURY_TREATMENT_REQUIRED_2: 'GC',
								INJURY_TREATMENT_RECEIVED_2: 'GD',
								INJURY_TREATMENT_REQUIRED_3: 'GH',
								INJURY_TREATMENT_RECEIVED_3: 'GI',

								// DOG
								DOG_PCA_1: 'CH',
								DOG_PCA_2: 'CM',

								DOG_BITTEN_1: 'CI',
								DOG_BITTEN_2: 'CH',

								DOG_LOCATION_TYPE_1: 'CJ',
								DOG_LOCATION_TYPE_2: 'CO',

								DOG_LOCATION_DESCRIPTION_1: 'CK',
								DOG_LOCATION_DESCRIPTION_2: 'CP',

								DOG_EFFECT_1: 'CL',
								DOG_EFFECT_2: 'CQ',

								// TASER
								TASER_METHOD_1: 'CU',
								TASER_METHOD_2: 'DH',
								TASER_METHOD_3: 'DU',

								TASER_PCA_1: 'CS',
								TASER_PCA_2: 'DF',
								TASER_PCA_3: 'DS',

								TASER_DISCHARGES_1: 'CV',
								TASER_DISCHARGES_2: 'DI',
								TASER_DISCHARGES_3: 'DV',

								TASER_CONTACT_STUNS_1: 'CW',
								TASER_CONTACT_STUNS_2: 'DJ',
								TASER_CONTACT_STUNS_3: 'DW',

								TASER_CYCLES_1: 'CX',
								TASER_CYCLES_2: 'DK',
								TASER_CYCLES_3: 'DX',

								// FIREARM
								FIREARM_TYPE_1: 'ES',
								FIREARM_TYPE_2: 'FB',

								FIREARM_PCA_1: 'ER',
								FIREARM_PCA_2: 'FA',

								FIREARM_METHOD_1: 'ET',
								FIREARM_METHOD_2: 'FC',

								// OC SPRAY
								OC_SPRAY_PCA_1: 'AJ',
								OC_SPRAY_PCA_2: 'AQ',
								OC_SPRAY_PCA_3: 'AX'
							});

							let arrayCols = {
								[cols.TACTICS]: '\n'
							};

							let fileConfig = {
								headerRows: 2,
								cols: cols,
								aliases: {
									ETHNICITY: [
										[
											'Pacific', // Not represented in data, but used as a label
											'Pacific Island',
											'Pacific Islander',
											'Other - Cook Island/Maori',
											'Other - Fijian/PI',
											'Other - Tongan'
										],
										[
											'African',
											'Native African (or cultural group of African origin)',
											'Other - african'
										],
										[
											'Pākehā', // Not represented in data, but used as a label
											'European',
											'Other - Maori/European',
											'Other - European/Maori'
										],
										[
											'Māori', // Not represented in data, but used as a label
											'Maori',
											'Other - Maori/European',
											'Other - Cook Island/Maori',
											'Other - European/Maori'
										]
									]
								},
								arrayCols: arrayCols,
								enumsMap: {
									TASER_METHOD: [cols.TASER_METHOD_1, cols.TASER_METHOD_2, cols.TASER_METHOD_3],
									FIREARM_METHOD: [cols.FIREARM_METHOD_1, cols.FIREARM_METHOD_2],
									INJURY_CAUSE: [cols.INJURY_CAUSE_1, cols.INJURY_CAUSE_2, cols.INJURY_CAUSE_3],
									INJURY_SITE: [cols.INJURY_SITE_1, cols.INJURY_SITE_2, cols.INJURY_SITE_3],
									INJURY_TYPE: [cols.INJURY_TYPE_1, cols.INJURY_TYPE_2, cols.INJURY_TYPE_3],
									INJURY_TREATMENT_REQUIRED: [cols.INJURY_TREATMENT_REQUIRED_1, cols.INJURY_TREATMENT_REQUIRED_2, cols.INJURY_TREATMENT_REQUIRED_3],
									INJURY_TREATMENT_RECEIVED: [cols.INJURY_TREATMENT_RECEIVED_1, cols.INJURY_TREATMENT_RECEIVED_2, cols.INJURY_TREATMENT_RECEIVED_3]
								},
								uniqueCols: [cols.ID, cols.TIME]
							};

							return fileConfig;
						})();
					</script>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-data-tor-2017-jan-jun" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Data: TOR Jan&nbsp;&ndash;&nbsp;Jun&nbsp;2017</span> <a class="anchor" href="#section-data-tor-2017-jan-jun"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>On 16 September 2017, I requested information from Police under the OIA, including:</p>

						<blockquote>
							<p>TOR data for the 1 January - 30 June 2017 reporting period, in the same format as was released for the July - December 2016 reporting period.</p>

							<cite><a href="https://fyi.org.nz/request/6558-tactical-options-reporting-data-january-june-2017">OIA request: Tactical Options Reporting Data January-June 2017</a> | Mark Hanna</cite>
						</blockquote>

						<p>I also asked that Police consider including some information that was redacted from the previous release:</p>

						<blockquote>
							<p>In the data released in March, the following information was withheld entirely "as they may contain free-text (including names)":</p>

							<ul>
								<li>Your [Reporter] Role</li>
								<li>[Subject] Role</li>
								<li>Relevant factors</li>
								<li>Subject Weapon</li>
								<li>Subject behaviours [for all Tactical Options]</li>
								<li>Handcuff Types [for all uses of Handcuff/Restraints]</li>
								<li>Technique [for all uses of Empty Hand tactics]</li>
								<li>Reason no warning [for all uses of TASER]</li>
								<li>Other tactic [type] [for all uses of Other tactics]</li>
								<li>Most effective tactic</li>
								<li>Subject resolution</li>
								<li>Staff Injury: type</li>
								<li>Staff Injury By Police: Actions</li>
								<li>Staff Injury By Equipment</li>
								<li>Staff Injury By Equipment: Failure</li>
								<li>Staff Injury By Other</li>
								<li>SRBA: Why Not</li>
								<li>SRBA: Negative How</li>
							</ul>

							<p>I would ask that you consider whether, as required by s9(2)(a) of the Official Information Act, it is *necessary* to withhold all of this information in order to protect the privacy of natural persons. I expect this is not the case, and it would be preferable if only that information which it is necessary to withhold for that reason should be withheld, rather than the entire content of these columns.</p>

							<p>I understand that this would likely require significantly more work before the data is fit for release. I would be happy to consult with you regarding this part of my request if necessary, to discuss potential compromises that will allow more of the data to be released without requiring a charge or being refused under s18(f) of the Official Information Act.</p>

							<cite><a href="https://fyi.org.nz/request/6558-tactical-options-reporting-data-january-june-2017">OIA request: Tactical Options Reporting Data January-June 2017</a> | Mark Hanna</cite>
						</blockquote>

						<p>On 25 September 2017, a Police employee consulted with me on refining this part of my request. She explained that manually reviewing the fields that had previously been redacted in this way would take a very long time, and proposed a compromise:</p>

						<blockquote>
							<p>in order to facilitate your request, Police are willing to recode some of these variables, so long as the total time required to prepare the dataset remains under one hour (in line with Ministry of Justice guidelines). As such, we would recode variables for which we already have a robust recoding technique established (but which has not yet been applied to this current dataset). This would likely include Subject relevant factors and subject weapon types.</p>

							<cite><a href="https://fyi.org.nz/request/6558-tactical-options-reporting-data-january-june-2017#incoming-21771">OIA Response</a> | NZ Police</cite>
						</blockquote>

						<p>I responded to clarify that I was most interested these columns being included:</p>

						<ul>
							<li>Subject Weapon</li>
							<li>Reason no warning [for all uses of TASER]</li>
							<li>Other tactic [type] [for all uses of Other tactics]</li>
						</ul>

						<p>I also said I would appreciate if the "Relevant factors" column could be included if Police had sufficient time.</p>

						<p>Police responded again to tell me what additional work they would be willing to do to allow more information to be included in the release:</p>

						<blockquote>
							<p>Based on your response Police are willing to recode the "Subject Weapon" and, if time permits, the "subject relevant factors" fields.</p>

							<p>For the "Other tactic" and "Reason no warning" fields, these are solely free-text fields which we do not currently have a recording process for. However due to the relatively low number of cases for each field we believe that we can redact any personal information that may exist in these cells, within the one-hour timeframe .</p>

							<p>During this process, it may be necessary to redact additional content in the free-text fields for reasons other than privacy (for example, under sections 6(c) or 9(2)(g)(i)). The reasons for any redaction will be noted in the cells.</p>

							<p>Also, please be aware that the content in the "Other tactic" fields are particularly prone to data entry errors. Police will not be investigating nor correcting or recoding any data errors.</p>

							<cite><a href="https://fyi.org.nz/request/6558-tactical-options-reporting-data-january-june-2017#incoming-21784" target="_blank">OIA Response</a> | NZ Police</cite>
						</blockquote>

						<p>On 25 October 2017, Police released TOR data covering 1 January 2017 &ndash; 30 June 2017 in this spreadsheet:</p>

						<p><a href="../data/2017/jan-jun/Mark Hanna spreadsheet.xlsx">Mark Hanna spreadsheet.xlsx</a></p>

						<p>This spreadsheet contains a "Notes" sheet detailing how the export was created and what fields had been removed or recoded:</p>

						<blockquote>
							<p></p>

							<cite>NZ Police</cite>
						</blockquote>

						<p>The Notes sheet also included the following section. I have added emphasis:</p>

						<blockquote>
							<p>The export was created using the following search criteria</p>
							<ul>
								<li>Incident start date = 1/01/2017</li>
								<li>Incident end date = 30/06/2017</li>
								<li>Status = Complete</li>
							</ul>

							<p>The following fields have been removed pursuant to section 9(2)(a) of the Official Infromation [<i>sic</i>] Act 1982</p>
							<ul>
								<li>Incident station</li>
								<li>Area</li>
								<li>Reporter Name</li>
								<li>Reporter QID</li>
								<li>Reporter Rank</li>
								<li>Reporter position</li>
								<li>Other Police QIDs</li>
								<li>Subject [name]</li>
								<li>TaserCam Serial No</li>
							</ul>

							<p>The following fields have been replaced by other calculated, recoded or redacted fields  pursuant to section 9(2)(a) of the Offical Infromation [<i>sic</i>] Act 1982</p>
							<ul>
								<li>ID number has been created for this request. This is a unique randomly generated ID reference number </li>
								<li>Incident date has been replaced by month and year</li>
								<li>Subject DOB has been replaced by Subject Age</li>
								<li>Relevant factors has been replaced by multiple varibales [<i>sic</i>] beinging [<i>sic</i>] with "RF:…"</li>
								<li>Most effective tactic has been replaced by Most effective tactic - RECODE</li>
								<li>Subject Weapon  has been replaced by Subject Weapon - RECODE</li>
								<li>Taser 1: Reason No Warning has been replaced by Taser 1: Reason No Warning - REDACTED</li>
								<li>Firearm 1: Firearm Type has been replaced by Firearm 1: Firearm Type - RECODED</li>
								<li>Other 1: Tactic has been replaced by Other 1: Tactic - REDACTED</li>
							</ul>

							<p>The following fields have been removed, pursuant to section 9(2)(a) of the Offical Infromation [<i>sic</i>] Act 1982, as they may contain free-text (including names)</p>
							<ul>
								<li>Your [Reporter] Role</li>
								<li>[Subject] Role</li>
								<li>Subject behaviours [for all Tactical Options]</li>
								<li>Handcuff Types [for all uses of Handcuff/Restraints]</li>
								<li>Technique [for all uses of Empty Hand tactics]</li>
								<li>Subject resolution</li>
								<li>Staff Injury: type</li>
								<li>Staff Injury By Police: Actions</li>
								<li>Staff Injury By Equipment</li>
								<li>Staff Injury By Equipment: Failure</li>
								<li>Staff Injury By Other</li>
								<li>SRBA: Why Not</li>
								<li>SRBA: Negative How</li>
							</ul>

							<p>
								Caveats:<br />
								The records provided in this spreadsheet are derived from the Tactical Options Reporting (TOR) database which records the reportable use of force by Police officers. Each row is a "TOR event" which is the reportable use of one or more tactical options, by one officer, against one individual. Multiple TOR events can occur at one incident. TOR data does not include events where the use of force is associated with a fatality as these events are instead the subject of internal and external investigations.
							</p>

							<cite>NZ Police</cite>
						</blockquote>

						<p>The Notes sheet also included the following section. I have added emphasis:</p>

						<blockquote>
							<p>This data is incomplete and has not been cleaned or coded for analysis or to correct any errors. Some columns have been removed or altered (as outlined above), pursuant to section 9(2)(a) of the Official Information Act 1982, to protect the privacy of natural persons. Given the incomplete and potentially unreliable nature of this data, Police takes no responsibility for its accuracy and correctness, and advises that it is incomplete. <strong>Police requests that if you publish this data in any form, you attach a proviso noting that Police have communicated to you that this information is raw data which has not been checked and which is therefore incomplete and may be unreliable</strong>. Furthermore, Police will not be liable for any loss or damage arising directly or indirectly from reliance on the data or information presented in the spreadsheet.</p>

							<cite>NZ Police</cite>
						</blockquote>

						<p>I converted the "TOR Export - Hanna" sheet of this spreadsheet to a CSV using Google Sheets:</p>

						<p><a href="../data/2017/jan-jun/Mark Hanna spreadsheet.xlsx - TOR Export - Hanna.csv">Mark Hanna spreadsheet.xlsx - TOR Export - Hanna.csv</a></p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code js-codebook__source">
						let fileConfig2017a = (() => {
							let cols = Analyser.getColNumbers({
								ID: 'A',
								MONTH: 'C',
								YEAR: 'D',
								TIME: 'E',

								DISTRICT: 'F',
								AGE: 'I',
								GENDER: 'J',
								ETHNICITY: 'K',
								SUBJECT_ARMED: 'W',
								TACTICS: 'Y',

								SPECIAL_POLICE_GROUPS: 'G',
								INCIDENT_TYPE: 'GM',

								// RELEVANT FACTORS
								RF_HISTORY_OF_CARRYING_WEAPONS: 'L',
								RF_HISTORY_OF_VIOLENCE_AGAINST_POLICE: 'M',
								RF_HISTORY_OF_VIOLENCE_AGAINST_NON_POLICE: 'N',
								RF_ALCOHOL: 'O',
								RF_DRUGS: 'P',
								RF_MENTAL_HEALTH: 'Q',
								RF_DISTRESSED_NOT_MENTAL_HEALTH: 'R',
								RF_SUICIDAL: 'S',
								RF_EXCITED_DELERIUM: 'T',
								RF_MEDICAL: 'U',
								RF_OTHER: 'V',

								// INJURY
								INJURIES: 'GO',
								INJURY_CAUSE_1: 'GP',
								INJURY_CAUSE_2: 'GU',
								INJURY_CAUSE_3: 'GZ',

								INJURY_SITE_1: 'GQ',
								INJURY_SITE_2: 'GV',
								INJURY_SITE_3: 'HA',

								INJURY_TYPE_1: 'GR',
								INJURY_TYPE_2: 'GW',
								INJURY_TYPE_3: 'HB',

								INJURY_TREATMENT_REQUIRED_1: 'GS',
								INJURY_TREATMENT_RECEIVED_1: 'GT',
								INJURY_TREATMENT_REQUIRED_2: 'GX',
								INJURY_TREATMENT_RECEIVED_2: 'GY',
								INJURY_TREATMENT_REQUIRED_3: 'HC',
								INJURY_TREATMENT_RECEIVED_3: 'HD',

								// DOG
								DOG_PCA_1: 'CU',
								DOG_PCA_2: 'CZ',

								DOG_BITTEN_1: 'CV',
								DOG_BITTEN_2: 'DA',

								DOG_LOCATION_TYPE_1: 'CW',
								DOG_LOCATION_TYPE_2: 'DB',

								DOG_LOCATION_DESCRIPTION_1: 'CX',
								DOG_LOCATION_DESCRIPTION_2: 'DC',

								DOG_EFFECT_1: 'CY',
								DOG_EFFECT_2: 'DD',

								// TASER
								TASER_METHOD_1: 'DI',
								TASER_METHOD_2: 'DW',
								TASER_METHOD_3: 'EK',

								TASER_PCA_1: 'DF',
								TASER_PCA_2: 'DT',
								TASER_PCA_3: 'EH',

								TASER_DISCHARGES_1: 'DJ',
								TASER_DISCHARGES_2: 'DX',
								TASER_DISCHARGES_3: 'EL',

								TASER_CONTACT_STUNS_1: 'DK',
								TASER_CONTACT_STUNS_2: 'DY',
								TASER_CONTACT_STUNS_3: 'EM',

								TASER_CYCLES_1: 'DL',
								TASER_CYCLES_2: 'DZ',
								TASER_CYCLES_3: 'EN',

								// FIREARM
								FIREARM_TYPE_1: 'FK',
								FIREARM_TYPE_2: 'FT',

								FIREARM_PCA_1: 'FJ',
								FIREARM_PCA_2: 'FS',

								FIREARM_METHOD_1: 'FL',
								FIREARM_METHOD_2: 'FU',

								// OC SPRAY
								OC_SPRAY_PCA_1: 'AV',
								OC_SPRAY_PCA_2: 'BC',
								OC_SPRAY_PCA_3: 'BJ'
							});

							let arrayCols = {
								[cols.TACTICS]: '\n',
								[cols.SPECIAL_POLICE_GROUPS]: ', ',
								[cols.INJURY_SITE_1]: '\n',
								[cols.INJURY_SITE_2]: '\n',
								[cols.INJURY_SITE_3]: '\n'
							};

							let fileConfig = {
								headerRows: 2,
								cols: cols,
								aliases: {
									ETHNICITY: [
										[
											'Pacific', // Not represented in data, but used as a label
											'Pacific Island',
											'Pacific Islander',
											'Other - COOK ISLAND MAORI',
											'Other - maori-cook islander',
											'Other - Tongan',
											'Other - EUROPEAN/SAMOAN'
										],
										[
											'African',
											'Native African (or cultural group of African origin)',
											'Other - SUDANESE',
											'Other - Sudanese'
										],
										[
											'Pākehā', // Not represented in data, but used as a label
											'European',
											'Other - EUROPEAN/SAMOAN'
										],
										[
											'Māori', // Not represented in data, but used as a label
											'Maori',
											'Other - Maori/Chillean',
											'Other - COOK ISLAND MAORI',
											'Other - maori-cook islander'
										]
									]
								},
								arrayCols: arrayCols,
								enumsMap: {
									TASER_METHOD: [cols.TASER_METHOD_1, cols.TASER_METHOD_2, cols.TASER_METHOD_3],
									FIREARM_METHOD: [cols.FIREARM_METHOD_1, cols.FIREARM_METHOD_2],
									INJURY_CAUSE: [cols.INJURY_CAUSE_1, cols.INJURY_CAUSE_2, cols.INJURY_CAUSE_3],
									INJURY_SITE: [cols.INJURY_SITE_1, cols.INJURY_SITE_2, cols.INJURY_SITE_3],
									INJURY_TYPE: [cols.INJURY_TYPE_1, cols.INJURY_TYPE_2, cols.INJURY_TYPE_3],
									INJURY_TREATMENT_REQUIRED: [cols.INJURY_TREATMENT_REQUIRED_1, cols.INJURY_TREATMENT_REQUIRED_2, cols.INJURY_TREATMENT_REQUIRED_3],
									INJURY_TREATMENT_RECEIVED: [cols.INJURY_TREATMENT_RECEIVED_1, cols.INJURY_TREATMENT_RECEIVED_2, cols.INJURY_TREATMENT_RECEIVED_3]
								},
								uniqueCols: [cols.ID, cols.TIME]
							};

							return fileConfig;
						})();
					</script>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-data-tor-2017-jul-dec" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Data: TOR Jul&nbsp;&ndash;&nbsp;Dec&nbsp;2017</span> <a class="anchor" href="#section-data-tor-2017-jul-dec"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>On 5 July 2018, I requested information from Police under the OIA, including:</p>

						<blockquote>
							<p>TOR data for the 1 July - 31 December 2017 reporting period, in the same format as was released for the January-June 2017 reporting period.</p>

							<cite><a href="https://fyi.org.nz/request/8236-tactical-options-reporting-data-july-december-2017">OIA request: Tactical Options Reporting Data July-December 2017</a></cite>
						</blockquote>

						<p>On 9 August 2018, after I had queried why Police had not responded to my request within the legislative time limit, they told me:</p>

						<blockquote>
							<p>On the [<i>sic</i>] 24 July 2018 we experienced a system fault with the Tactical Options Reporting database, among some others. This fault saw the database out of commission for a week.</p>

							<p>I can advise you that the database is back on line and the request has been prepared and is currently proceeding through the Executive and Legal consultation process and should be released to you shortly.</p>

							<cite><a href="https://fyi.org.nz/request/8236-tactical-options-reporting-data-july-december-2017#incoming-27242">OIA Response</a> | NZ Police</cite>
						</blockquote>

						<p>On 29 August 2018, Police released TOR data covering 1 July 2017 – 31 December in this spreadsheet:</p>

						<p><a href="../data/2017/jul-dec/Hanna Mark IR 01 18 5190 TOR Data for Release.xlsx">Hanna Mark IR 01 18 5190 TOR Data for Release.xlsx</a></p><p>This spreadsheet contains a "Notes" sheet detailing how the export was created and what fields had been removed or recoded:</p>

						<blockquote>
							<p>The export was created using the following search criteria</p>
							<ul>
								<li>Incident start date = 1/07/2017</li>
								<li>Incident end date  = 31/12/2017</li>
								<li>Status = Complete</li>
							</ul>

							<p>The following fields have been removed pursuant to section 9(2)(a) of the Offical Infromation [<i>sic</i>] Act 1982</p>
							<ul>
								<li>Incident station</li>
								<li>Area</li>
								<li>Reporter Name</li>
								<li>Reporter QID</li>
								<li>Reporter Rank</li>
								<li>Reporter position</li>
								<li>Other Police QIDs</li>
								<li>Subject [name]</li>
								<li>TaserCam Serial No</li>
							</ul>

							<p>The following fields have been replaced by other calculated, recoded or redacted fields  pursuant to section 9(2)(a) of the Offical Infromation [<i>sic</i>] Act 1982</p>
							<ul>
								<li>ID number has been created for this request. This is a unique randomly generated ID reference number</li>
								<li>Incident date has been replaced by month and year</li>
								<li>Subject DOB has been replaced by Subject Age</li>
								<li>Relevant factors has been replaced by multiple varibales [<i>sic</i>] beinging [<i>sic</i>] with "RF:…"</li>
								<li>Most effective tactic has been replaced by Most effective tactic - RECODE</li>
								<li>Subject Weapon  has been replaced by Subject Weapon - RECODE</li>
								<li>Taser 1: Reason No Warning has been replaced by Taser 1: Reason No Warning - REDACTED</li>
								<li>Firearm 1: Firearm Type has been replaced by Firearm 1: Firearm Type - RECODED</li>
								<li>Other 1: Tactic has been replaced by Other 1: Tactic - REDACTED</li>
							</ul>

							<p>The following fields have been removed, pursuant to section 9(2)(a) of the Offical Infromation [<i>sic</i>] Act 1982, as they may contain free-text (including names)</p>
							<ul>
								<li>Your [Reporter] Role</li>
								<li>[Subject] Role</li>
								<li>Subject behaviours [for all Tactical Options]</li>
								<li>Handcuff Types [for all uses of Handcuff/Restraints]</li>
								<li>Technique [for all uses of Empty Hand tactics]</li>
								<li>Subject resolution</li>
								<li>Staff Injury: type</li>
								<li>Staff Injury By Police: Actions</li>
								<li>Staff Injury By Equipment</li>
								<li>Staff Injury By Equipment: Failure</li>
								<li>Staff Injury By Other</li>
								<li>SRBA: Why Not</li>
								<li>SRBA: Negative How</li>
							</ul>

							<p>
								Caveats:<br />
								"The records provided in the attached spreadsheet are derived from the Tactical Options Reporting (TOR) database, which records the reportable use of force by police officers. Each row is a ‘TOR event’, which is the reportable use of one or more tactical options, by one officer, against one individual. Multiple TOR events can occur at one incident.<br />
								During the period of this analysis, TOR data does not include events where the use of force is associated with a fatality, as these events are the subject of internal and external investigations."
							</p>

							<cite>NZ Police</cite>
						</blockquote>

						<p>The Notes sheet also included the following section. I have added emphasis:</p>

						<blockquote>
							<p>This data is incomplete and has not been cleaned or coded for analysis or to correct any errors. Some columns have been removed or altered (as outlined above), pursuant to section 9(2)(a) of the Official Information Act 1982, to protect the privacy of natural persons. Given the incomplete and potentially unreliable nature of this data, Police takes no responsibility for its accuracy and correctness, and advises that it is incomplete. <strong>Police requests that if you publish this data in any form, you attach a proviso noting that Police have communicated to you that this information is raw data which has not been checked and which is therefore incomplete and may be unreliable</strong>. Furthermore, Police will not be liable for any loss or damage arising directly or indirectly from reliance on the data or information presented in the spreadsheet.</p>

							<cite>NZ Police</cite>
						</blockquote>

						<p>I converted the "Hanna - TOR data" sheet of this spreadsheet to a CSV using Google Sheets:</p>

						<p><a href="../data/2017/jul-dec/Hanna Mark IR 01 18 5190 TOR Data for Release.xlsx - Hanna - TOR data.csv">Hanna Mark IR 01 18 5190 TOR Data for Release.xlsx - Hanna - TOR data.csv</a></p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code js-codebook__source">
						let fileConfig2017b = (() => {
							let cols = Analyser.getColNumbers({
								ID: 'A',
								MONTH: 'C',
								YEAR: 'D',
								TIME: 'E',

								DISTRICT: 'F',
								AGE: 'I',
								GENDER: 'J',
								ETHNICITY: 'K',
								SUBJECT_ARMED: 'W',
								TACTICS: 'Y',

								SPECIAL_POLICE_GROUPS: 'G',
								INCIDENT_TYPE: 'GM',

								// RELEVANT FACTORS
								RF_HISTORY_OF_CARRYING_WEAPONS: 'L',
								RF_HISTORY_OF_VIOLENCE_AGAINST_POLICE: 'M',
								RF_HISTORY_OF_VIOLENCE_AGAINST_NON_POLICE: 'N',
								RF_ALCOHOL: 'O',
								RF_DRUGS: 'P',
								RF_MENTAL_HEALTH: 'Q',
								RF_DISTRESSED_NOT_MENTAL_HEALTH: 'R',
								RF_SUICIDAL: 'S',
								RF_EXCITED_DELERIUM: 'T',
								RF_MEDICAL: 'U',
								RF_OTHER: 'V',

								// INJURY
								INJURIES: 'GO',
								INJURY_CAUSE_1: 'GP',
								INJURY_CAUSE_2: 'GU',
								INJURY_CAUSE_3: 'GZ',

								INJURY_SITE_1: 'GQ',
								INJURY_SITE_2: 'GV',
								INJURY_SITE_3: 'HA',

								INJURY_TYPE_1: 'GR',
								INJURY_TYPE_2: 'GW',
								INJURY_TYPE_3: 'HB',

								INJURY_TREATMENT_REQUIRED_1: 'GS',
								INJURY_TREATMENT_RECEIVED_1: 'GT',
								INJURY_TREATMENT_REQUIRED_2: 'GX',
								INJURY_TREATMENT_RECEIVED_2: 'GY',
								INJURY_TREATMENT_REQUIRED_3: 'HC',
								INJURY_TREATMENT_RECEIVED_3: 'HD',

								// DOG
								DOG_PCA_1: 'CU',
								DOG_PCA_2: 'CZ',

								DOG_BITTEN_1: 'CV',
								DOG_BITTEN_2: 'DA',

								DOG_LOCATION_TYPE_1: 'CW',
								DOG_LOCATION_TYPE_2: 'DB',

								DOG_LOCATION_DESCRIPTION_1: 'CX',
								DOG_LOCATION_DESCRIPTION_2: 'DC',

								DOG_EFFECT_1: 'CY',
								DOG_EFFECT_2: 'DD',

								// TASER
								TASER_METHOD_1: 'DI',
								TASER_METHOD_2: 'DW',
								TASER_METHOD_3: 'EK',

								TASER_PCA_1: 'DF',
								TASER_PCA_2: 'DT',
								TASER_PCA_3: 'EH',

								TASER_DISCHARGES_1: 'DJ',
								TASER_DISCHARGES_2: 'DX',
								TASER_DISCHARGES_3: 'EL',

								TASER_CONTACT_STUNS_1: 'DK',
								TASER_CONTACT_STUNS_2: 'DY',
								TASER_CONTACT_STUNS_3: 'EM',

								TASER_CYCLES_1: 'DL',
								TASER_CYCLES_2: 'DZ',
								TASER_CYCLES_3: 'EN',

								// FIREARM
								FIREARM_TYPE_1: 'FK',
								FIREARM_TYPE_2: 'FT',

								FIREARM_PCA_1: 'FJ',
								FIREARM_PCA_2: 'FS',

								FIREARM_METHOD_1: 'FL',
								FIREARM_METHOD_2: 'FU',

								// OC SPRAY
								OC_SPRAY_PCA_1: 'AV',
								OC_SPRAY_PCA_2: 'BC',
								OC_SPRAY_PCA_3: 'BJ'
							});

							let arrayCols = {
								[cols.TACTICS]: '\n',
								[cols.SPECIAL_POLICE_GROUPS]: ', ',
								[cols.INJURY_SITE_1]: '\n',
								[cols.INJURY_SITE_2]: '\n',
								[cols.INJURY_SITE_3]: '\n'
							};

							let fileConfig = {
								headerRows: 2,
								cols: cols,
								aliases: {
									ETHNICITY: [
										[
											'Pacific', // Not represented in data, but used as a label
											'Pacific Island',
											'Pacific Islander',
											'Other - European/Pacific Islander',
											'Other - Maori/Polynesian',
											'Other - Papau New Guinea',
											'Other - Samoan'
										],
										[
											'African',
											'Native African (or cultural group of African origin)'
										],
										[
											'Pākehā', // Not represented in data, but used as a label
											'European',
											'Maori / European',
											'Other - European/Pacific Islander'
										],
										[
											'Māori', // Not represented in data, but used as a label
											'Maori',
											'Maori / European',
											'Other - Maori/Polynesian'
										]
									]
								},
								arrayCols: arrayCols,
								enumsMap: {
									TASER_METHOD: [cols.TASER_METHOD_1, cols.TASER_METHOD_2, cols.TASER_METHOD_3],
									FIREARM_METHOD: [cols.FIREARM_METHOD_1, cols.FIREARM_METHOD_2],
									INJURY_CAUSE: [cols.INJURY_CAUSE_1, cols.INJURY_CAUSE_2, cols.INJURY_CAUSE_3],
									INJURY_SITE: [cols.INJURY_SITE_1, cols.INJURY_SITE_2, cols.INJURY_SITE_3],
									INJURY_TYPE: [cols.INJURY_TYPE_1, cols.INJURY_TYPE_2, cols.INJURY_TYPE_3],
									INJURY_TREATMENT_REQUIRED: [cols.INJURY_TREATMENT_REQUIRED_1, cols.INJURY_TREATMENT_REQUIRED_2, cols.INJURY_TREATMENT_REQUIRED_3],
									INJURY_TREATMENT_RECEIVED: [cols.INJURY_TREATMENT_RECEIVED_1, cols.INJURY_TREATMENT_RECEIVED_2, cols.INJURY_TREATMENT_RECEIVED_3]
								},
								uniqueCols: [cols.ID, cols.TIME]
							};

							return fileConfig;
						})();
					</script>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-data-tor-combined" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Data: TOR combined</span> <a href="#section-data-tor-combined" class="anchor"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>The data sets were all loaded together and then combined to be analysed in groups.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code js-codebook__source">
						Analyser.loadFile(
							'../data/2016/jul-dec/170202 RAKETE 16 11336 TOR xlsx.xlsx - Export - Redacted.csv', fileConfig2016,
							'../data/2017/jan-jun/Mark Hanna spreadsheet.xlsx - TOR Export - Hanna.csv', fileConfig2017a,
							'../data/2017/jul-dec/Hanna Mark IR 01 18 5190 TOR Data for Release.xlsx - Hanna - TOR data.csv', fileConfig2017b,

							analyseData
						);
					</script>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-index="0" data-codebook-log="log-tor-combined">
						let data = (() => {
							let data2016b = arguments[0];
							let data2017a = arguments[1];
							let data2017b = arguments[2];

							let data = {
								'2016b': data2016b,

								'2017a': data2017a,
								'2017b': data2017b,
								'2017': Analyser.combineData(data2017a, data2017b),

								'2016b-2017': Analyser.combineData(data2016b, data2017a, data2017b)
							};

							let exampleSet = '2016b-2017';

							log(`For the set '${exampleSet}':`);

							log(`Number of TOR events: ${data[exampleSet].rows.length}`);

							log('Number of TOR events for each tactic:', data[exampleSet].rows.getColSummary(data[exampleSet].cols.TACTICS));

							return data;
						})();
					</script>

					<samp class="codebook__log" id="log-tor-combined"></samp>

					<div class="content">
						<p>I also created a utility function, <code>getTacticUseRows</code>, for easier filtering when looping through tactics for data sets containing derived <code>FIREARM_USED</code> and <code>TASER_USED</code> columns.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code">
						let getTacticUseRows = (tactic, filterRows) => {
							if (typeof filterRows === 'undefined') {
								filterRows = rows;
							}

							let tacticUseRows = filterRows.filter(cols.TACTICS, tactic);

							if (tactic === 'Firearm') {
								tacticUseRows = tacticUseRows.filter(cols.FIREARM_USED, true);
							} else if (tactic === 'Taser') {
								tacticUseRows = tacticUseRows.filter(cols.TASER_USED, true);
							}

							return tacticUseRows;
						};
					</script>

					<div class="content">
						<p>Those derived columns can be created using these functions with <a href="https://cipscis.github.io/charter/app/docs/#analyser-addderivedcol" target="_blank">addDerivedCol</a>:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code">
						let getTaserUsed = row => {
							let taserUsed = false;

							let taserUseMethods = ['Discharge', 'Contact stun'];

							if (
								taserUseMethods.includes(row[cols.TASER_METHOD_1]) ||
								taserUseMethods.includes(row[cols.TASER_METHOD_2]) ||
								taserUseMethods.includes(row[cols.TASER_METHOD_3])
							) {
								taserUsed = true;
							}

							return taserUsed;
						};

						let getFirearmUsed = row => {
							let firearmUsed = false;

							let firearmUseMethods = ['Shots fired'];

							if (
								firearmUseMethods.includes(row[cols.FIREARM_METHOD_1]) ||
								firearmUseMethods.includes(row[cols.FIREARM_METHOD_2])
							) {
								firearmUsed = true;
							}

							return firearmUsed;
						};
					</script>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-data-tor-2016b-2017" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Data: TOR Jul 2016 &ndash; Dec 2017</span> <a href="#section-data-tor-2016b-2017" class="anchor"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>Using combined data from the second half of 2016 and the first and second halves of 2017:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-2016b-2017-data">
						rows = data['2016b-2017'].rows;
						cols = data['2016b-2017'].cols;
						enums = data['2016b-2017'].enums;

						log(rows.length);
					</script>

					<samp class="codebook__log" id="log-tor-2016b-2017-data"></samp>

					<div class="content">
						<p>Rows where the only tactical option recorded was "communication" were removed. I'm uncertain why any events were loaded this way, as the <a href="../references/Use of Force Overview Reporting.pdf" target="_blank">Use of Force Overview - Reporting</a> document says "communication" should only be recorded when used alongside another tactical option.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-index="0" data-codebook-log="log-tor-2016b-2017-remove-communication-only">
						(() => {
							let numRows = rows.length;

							rows = rows.filter(cols.TACTICS, tactics => tactics[0] !== 'Communication' || tactics.length > 1);

							log(`Rows removed: ${numRows - rows.length}`);
						})();
					</script>

					<samp class="codebook__log" id="log-tor-2016b-2017-remove-communication-only"></samp>

					<div class="content">
						<p>The TOR data's <code>TACTICS</code> column doesn't differentiate between firearm or taser shows or uses. Because presentation of these weapons are recorded (excluding when they are presented by the AOS or STG), but this is not the case for other tactical options available to Police, I created new derived columns to filter events based on whether or not a taser or firearm was used as opposed to only being shown.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-2016b-2017-show-presentation">
						(() => {
							cols.TASER_USED = rows.addDerivedCol(getTaserUsed);
							cols.FIREARM_USED = rows.addDerivedCol(getFirearmUsed);

							log('Taser used:', rows.filter(cols.TACTICS, 'Taser').getColSummary(cols.TASER_USED));
							log('Firearm used:', rows.filter(cols.TACTICS, 'Firearm').getColSummary(cols.FIREARM_USED));
						})();
					</script>

					<samp class="codebook__log" id="log-tor-2016b-2017-show-presentation"></samp>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-data-tor-2017" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Data: TOR 2017</span> <a href="#section-data-tor-2017" class="anchor"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>Using combined data from the first and second halves of 2017:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-2017-data">
						rows = data['2017'].rows;
						cols = data['2017'].cols;
						enums = data['2017'].enums;

						log(rows.length);
					</script>

					<samp class="codebook__log" id="log-tor-2017-data"></samp>

					<div class="content">
						<p>Rows where the only tactical option recorded was "communication" were removed. I'm uncertain why any events were loaded this way, as the <a href="../references/Use of Force Overview Reporting.pdf" target="_blank">Use of Force Overview - Reporting</a> document says "communication" should only be recorded when used alongside another tactical option.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-index="0" data-codebook-log="log-tor-2017-remove-communication-only">
						(() => {
							let numRows = rows.length;

							rows = rows.filter(cols.TACTICS, tactics => tactics[0] !== 'Communication' || tactics.length > 1);

							log(`Rows removed: ${numRows - rows.length}`);
						})();
					</script>

					<samp class="codebook__log" id="log-tor-2017-remove-communication-only"></samp>

					<div class="content">
						<p>The TOR data's <code>TACTICS</code> column doesn't differentiate between firearm or taser shows or uses. Because presentation of these weapons are recorded (excluding when they are presented by the AOS or STG), but this is not the case for other tactical options available to Police, I created new derived columns to filter events based on whether or not a taser or firearm was used as opposed to only being shown.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-2017-show-presentation">
						(() => {
							cols.TASER_USED = rows.addDerivedCol(getTaserUsed);
							cols.FIREARM_USED = rows.addDerivedCol(getFirearmUsed);

							log('Taser used:', rows.filter(cols.TACTICS, 'Taser').getColSummary(cols.TASER_USED));
							log('Firearm used:', rows.filter(cols.TACTICS, 'Firearm').getColSummary(cols.FIREARM_USED));
						})();
					</script>

					<samp class="codebook__log" id="log-tor-2017-show-presentation"></samp>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-chart-tor-firearm-pca" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Chart: TOR Firearm PCA</span> <a class="anchor" href="#section-chart-tor-firearm-pca"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>Using data for July 2016 &ndash; December 2017:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-firearm-pca-data">
						rows = data['2016b-2017'].rows;
						cols = data['2016b-2017'].cols;
						enums = data['2016b-2017'].enums;

						log(rows.length);
					</script>

					<samp class="codebook__log" id="log-tor-firearm-pca-data"></samp>

					<div class="content">
						<p>PCA stands for Perceived Cumulative Assessment. It is part of NZ Police's Tactical Options Framework (TOF), and provides a set of categories for police officers to use when making a risk assessment as part of Police's "TENR" (<b>T</b>hreat, <b>E</b>xposure, <b>N</b>ecessity, <b>R</b>esponse) risk assessment model, also part of the TOF.</p>

						<p><a href="https://fyi.org.nz/request/5014-selected-police-manuals#incoming-16479" target="_blank">Police released a summary</a> of their Tactical Options Framework under the OIA on 4 January 2017: <a href="../references/Tactical Options Framework.pdf">Tactical Options Framework (PDF)</a></p>

						<blockquote>
							<p><strong>Perceived cumulative assessment</strong></p>

							<p>Your subjective assessment and continuous reassessment of an incident, using the TENR model, based on information known about the situation and the subject’s behaviour. The PCA may escalate and/or de-escalate more than once during an incident.</p>

							<p>There are five categories in the PCA, which are represented in the TOF – cooperative, passive resistance, active resistance, assaultive, GBH or death.</p>

							<cite><a href="../references/Tactical Options Framework.pdf">Tactical Options Framework</a> | NZ Police</cite>
						</blockquote>

						<p>TOR events can involve more than one use of a firearm. For this chart, I looked specifically at the first recorded use of a firearm during a given TOR event.</p>

						<p>I only looked at the first instance because, in the few rare cases in which multiple uses of a firearm are recorded in the same TOR event, each use had the same PCA and method recorded:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-firearm-pca-first">
						(() => {
							let firearms = rows.filter(cols.TACTICS, 'Firearm');

							let firearms2 = firearms.filter(cols.FIREARM_PCA_2, a => !!a);

							firearms2.forEach((row, i) => {
								if (i > 0) {
									log('');
								}
								log(`${row[cols.FIREARM_PCA_1]}, ${row[cols.FIREARM_METHOD_1]}`);
								log(`${row[cols.FIREARM_PCA_2]}, ${row[cols.FIREARM_METHOD_2]}`);
							});
						})();
					</script>

					<samp class="codebook__log" id="log-tor-firearm-pca-first"></samp>
					<div class="content">
						<p>Because TOR events prior to 2018 excluded incidents where a person was killed, events where police officers discharged a firearm are likely to be excluded from the TOR database. These events are rare anyway, with the vast majority of events being presentation only, I have excluded them:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-firearm-presentation-only">
						log(rows.filter(cols.TACTICS, 'Firearm').getColSummary(cols.FIREARM_METHOD_1));

						let firearmP = rows.filter(
							cols.TACTICS, 'Firearm',
							cols.FIREARM_METHOD_1, 'Presentation only'
						);
					</script>

					<samp class="codebook__log" id="log-tor-firearm-presentation-only"></samp>

					<div class="content">
						<p>It's still worth being aware that firearm presentations by the AOS and the STG are not recorded in the TOR database.</p>

						<p>When creating the graph, I split the events by district. I put events in the three districts <a href="https://www.police.govt.nz/can-you-help-us/armed-response-team-trial" target="_blank">where Armed Response Teams were trialed</a> - Counties Manukau, Wairarapa, and Canterbury - in one group and all other districts in the other group.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-firearm-pca" data-codebook-chart="chart-tor-firearm-pca">
						(() => {
							log(`Firearm presentation events: ${firearmP.length}`);

							log(firearmP.getColSummary(cols.FIREARM_PCA_1));

							const armedResponseTeamDistricts = [
								'Counties/Manukau',
								'Waikato',
								'Canterbury'
							];

							let firearmPArt = firearmP.filter(cols.DISTRICT, district => armedResponseTeamDistricts.includes(district));
							let firearmPOther = firearmP.filter(cols.DISTRICT, district => !armedResponseTeamDistricts.includes(district));

							let chartConfig = {
								title: `Threat level when NZ Police presented firearms<br />Jul&nbsp;2016&nbsp;&ndash;&nbsp;Dec&nbsp;2017`,
								showLegend: true,
								labels: ['Armed Response Teams trial districts', 'Other districts'],
								dataSeries: [
									{
										name: 'Grievous Bodily Harm',
										color:' #ccc',
										dataPoints: [
											firearmPArt.filter(cols.FIREARM_PCA_1, 'GBH').length / firearmPArt.length,
											firearmPOther.filter(cols.FIREARM_PCA_1, 'GBH').length / firearmPOther.length
										]
									},
									{
										name: 'Assaultive',
										color:' #f3dc51',
										dataPoints: [
											firearmPArt.filter(cols.FIREARM_PCA_1, 'Assaultive').length / firearmPArt.length,
											firearmPOther.filter(cols.FIREARM_PCA_1, 'Assaultive').length / firearmPOther.length
										]
									},
									{
										name: 'Active Resistant',
										color:' #e09d1c',
										dataPoints: [
											firearmPArt.filter(cols.FIREARM_PCA_1, 'Active Resistant').length / firearmPArt.length,
											firearmPOther.filter(cols.FIREARM_PCA_1, 'Active Resistant').length / firearmPOther.length
										]
									},
									{
										name: 'Passive Resistant',
										color:' #c55c00',
										dataPoints: [
											firearmPArt.filter(cols.FIREARM_PCA_1, 'Passive Resistant').length / firearmPArt.length,
											firearmPOther.filter(cols.FIREARM_PCA_1, 'Passive Resistant').length / firearmPOther.length
										]
									},
									{
										name: 'Cooperative',
										color:' #a20000',
										dataPoints: [
											firearmPArt.filter(cols.FIREARM_PCA_1, 'Cooperative').length / firearmPArt.length,
											firearmPOther.filter(cols.FIREARM_PCA_1, 'Cooperative').length / firearmPOther.length
										]
									}
								],
								stacked: true
							};

							let yAxis = {
								percentage: true,
								max: 1,
								values: 1,
								valuesAt: [0.2, 0.3]
							};

							let xAxis = {};

							let $chart = Charter.createBarChart(chartConfig, yAxis, xAxis);

							chart($chart);
						})();
					</script>

					<samp class="codebook__log js-codebook__log" id="log-tor-firearm-pca"></samp>

					<div class="content">
						<p>I also applied some custom CSS to this chart, to adjust its size and the position of its legend:</p>
					</div>

					<style type="text/css" class="codebook__style js-codebook__style">
						#chart-tor-firearm-pca .chart {
							max-width: 500px;
						}

						#chart-tor-firearm-pca .chart__area {
							padding-top: 80%;
						}

						@media (min-width: 800px) {
							#chart-tor-firearm-pca .chart__title {
								margin-right: -240px; /* Extend width */
							}
							#chart-tor-firearm-pca .chart__legend {
								position: absolute;
								left: 100%;
								margin-left: 20px;
								margin-top: 20px;
								width: 220px;
							}
						}
					</style>

					<div id="chart-tor-firearm-pca"></div>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-chart-tor-mental-health" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Chart: Mental Health</span> <a class="anchor" href="#section-chart-tor-mental-health"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>Using data for January &ndash; December 2017:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-mental-health-data">
						rows = data['2017'].rows;
						cols = data['2017'].cols;
						enums = data['2017'].enums;

						log(rows.length);
					</script>

					<samp class="codebook__log" id="log-tor-mental-health-data"></samp>

					<div class="content">
						<p>Starting with the data covering January&nbsp;&ndash;&nbsp;June&nbsp;2017, NZ Police included "Relevant Factor" information.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-mental-health" data-codebook-chart="chart-tor-mental-health">
						(() => {
							let rows = data['2017'].rows;
							let cols = data['2017'].cols;

							let tactics = data['2017'].enums.TACTICS;
							tactics.sort((a, b) => {
								return rows.filter(cols.TACTICS, b).length - rows.filter(cols.TACTICS, a).length;
							});

							tactics.splice(tactics.indexOf('Communication'), 1);

							const labels = tactics;

							let dataSeries = [
								{
									name: 'No',
									color: '#ccc',
									dataPoints: tactics.map(tactic => {
										let rfRows = rows.filter(
											cols.RF_MENTAL_HEALTH, 'N',
											cols.RF_SUICIDAL, 'N',
											cols.RF_DISTRESSED_NOT_MENTAL_HEALTH, 'N'
										);

										let events = rfRows.filter(cols.TACTICS, tactic);
										let allEvents = rows.filter(cols.TACTICS, tactic);

										let dataPoint = events.length / allEvents.length;

										return dataPoint;
									})
								},
								{
									name: 'Yes',
									color: '#a20000',
									dataPoints: tactics.map(tactic => {
										let rfRows = rows.filterOr(
											cols.RF_MENTAL_HEALTH, 'Y',
											cols.RF_SUICIDAL, 'Y',
											cols.RF_DISTRESSED_NOT_MENTAL_HEALTH, 'Y'
										);

										let events = rfRows.filter(cols.TACTICS, tactic);
										let allEvents = rows.filter(cols.TACTICS, tactic);

										let dataPoint = events.length / allEvents.length;

										return dataPoint;
									})
								}
							];

							let chartConfig = {
								title: `Relevant Factor: Mental Health, Suicide, or Other Distress<br />Jan&nbsp;&ndash;&nbsp;Dec&nbsp;2017`,
								showLegend: true,
								labels,
								dataSeries,
								stacked: true
							};

							let yAxis = {
								max: 1,
								percentage: true
							};

							let xAxis = {};

							let $chart = Charter.createBarChart(chartConfig, yAxis, xAxis);

							chart($chart);
						})();
					</script>

					<samp class="codebook__log" id="log-tor-mental-health"></samp>

					<div id="chart-tor-mental-health"></div>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-chart-tor-injuries" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Chart: Injuries</span> <a class="anchor" href="#section-chart-tor-injuries"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>Using data for July 2016 &ndash; December 2017:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-injuries-data">
						rows = data['2016b-2017'].rows;
						cols = data['2016b-2017'].cols;
						enums = data['2016b-2017'].enums;

						log(rows.length);
					</script>

					<samp class="codebook__log" id="log-tor-injuries-data"></samp>

					<div class="content">
						<p>TOR events recorded between 0 and 5 injuries, but only details for up to three injuries were recorded. Each injury's severity is recorded in two separate fields: "treatment required" and "treatment received". The cause, site(s), and type of each injury is also recorded.</p>

						<p>Though were were a very small number of injuries recorded as having been caused by "Communication", I excluded these from the analysis under the assumption that they had not been recorded correctly.</p>

						<p>I sorted the causes of injuries by the number of events at which a they were used, rather than the number of injuries they caused.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-injury-communication">
						let injuryCauses = enums.INJURY_CAUSE;
						injuryCauses.sort((a, b) => getTacticUseRows(b).length - getTacticUseRows(a).length);

						injuryCauses.splice(injuryCauses.indexOf('Communication'), 1);

						log(injuryCauses.map(tactic => `${tactic}: ${getTacticUseRows(tactic).length}`).join('\n'));
					</script>

					<samp class="codebook__log" id="log-tor-injury-communication"></samp>

					<div class="content">
						<p>Because the details of each injury are recorded in a separate set of columns, they can't be easily compared across rows. I created a new derived column containing a more convenient way to examine a given event's recorded injuries.</p>

						<p>Each injury has a separately recorded "treatment required" and "treatment received". I reduced these to a single reference property for an injury's treatment.</p>

						<p>This property used the treatment received, except in cases where Police recorded that a higher level of treatment was required. In cases where the level of treatment required was higher than the level of treatment received, I used the level of treatment required. Those levels are:</p>

						<ol>
							<li>Refused (treatment received only)</li>
							<li>Nil</li>
							<li>Self</li>
							<li>At Scene</li>
							<li>Medical</li>
							<li>Hospital</li>
						</ol>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code">
						const treatmentLevels = {
							'Refused': -1,
							'Nil': 0,
							'Self': 1,
							'At Scene': 2,
							'Medical': 3,
							'Hospital': 4
						};

						let getInjuryTreatment = injury => {
							// The more serious between treatment required and treatment received

							let treatment = injury.treatmentReceived;

							let treatmentReceivedLevel = treatmentLevels[injury.treatmentReceived];
							let treatmentRequiredLevel = treatmentLevels[injury.treatmentRequired];

							if (treatmentRequiredLevel > treatmentReceivedLevel) {
								treatment = injury.treatmentRequired;
							}

							return treatment;
						};

						let getInjuryDetails = row => {
							let injuryDetails = [];
							let numInjuries = row[cols.INJURIES];

							if (numInjuries > 0) {
								let injuryDetail = {
									cause: row[cols.INJURY_CAUSE_1],
									site: row[cols.INJURY_SITE_1],
									type: row[cols.INJURY_TYPE_1],
									treatmentRequired: row[cols.INJURY_TREATMENT_REQUIRED_1],
									treatmentReceived: row[cols.INJURY_TREATMENT_RECEIVED_1],
								};
								injuryDetail.treatment = getInjuryTreatment(injuryDetail);
								injuryDetails.push(injuryDetail);
							}

							if (numInjuries > 1) {
								let injuryDetail = {
									cause: row[cols.INJURY_CAUSE_2],
									site: row[cols.INJURY_SITE_2],
									type: row[cols.INJURY_TYPE_2],
									treatmentRequired: row[cols.INJURY_TREATMENT_REQUIRED_2],
									treatmentReceived: row[cols.INJURY_TREATMENT_RECEIVED_2],
								};
								injuryDetail.treatment = getInjuryTreatment(injuryDetail);
								injuryDetails.push(injuryDetail);
							}

							if (numInjuries > 2) {
								let injuryDetail = {
									cause: row[cols.INJURY_CAUSE_3],
									site: row[cols.INJURY_SITE_3],
									type: row[cols.INJURY_TYPE_3],
									treatmentRequired: row[cols.INJURY_TREATMENT_REQUIRED_3],
									treatmentReceived: row[cols.INJURY_TREATMENT_RECEIVED_3],
								};
								injuryDetail.treatment = getInjuryTreatment(injuryDetail);
								injuryDetails.push(injuryDetail);
							}

							return injuryDetails;
						};

						cols.INJURY_DETAILS = rows.addDerivedCol(getInjuryDetails);
					</script>

					<div class="content">
						<p>I also created a derived column containing an array of the causes of each injury at an event, to make it easier to filter down to rows containing an injury caused by a particular tactical option.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-injury-causes">
						let getInjuryCauses = row => {
							let injuryCauses = [];
							let injuryDetails = row[cols.INJURY_DETAILS];

							injuryCauses = injuryDetails.map(injury => injury.cause);

							return injuryCauses;
						};

						cols.INJURY_CAUSES = rows.addDerivedCol(getInjuryCauses);

						log(rows.getColSummary(cols.INJURY_CAUSES));
					</script>

					<samp class="codebook__log" id="log-tor-injury-causes"></samp>

					<div class="content">
						<p>I created the graph by looping through each treatment level, injury cause, and row to count the total number of matching injuries. This means if multiple injuries at the same event had the same cause, they would be counted individually.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-chart="chart-tor-injury-severity">
						(() => {
							let dataSeries = (() => {
								let colours = ['#ccc', '#f3dc51', '#e09d1c', '#c55c00', '#a20000'];

								let dataSeries = (['Nil', 'Self', 'At Scene', 'Medical', 'Hospital']).map((treatment, i) => {
									let injuries = {
										name: treatment,
										color: colours[i],
										dataPoints: []
									};
									injuryCauses.forEach(tactic => {
										let numInjuries = 0;

										rows.filter(cols.INJURY_CAUSES, tactic).forEach(row => {
											let injuries = row[cols.INJURY_DETAILS];

											injuries.forEach(injury => {
												if (injury.cause === tactic) {
													if (injury.treatment === treatment) {
														numInjuries += 1;
													}
												}
											});
										});

										injuries.dataPoints.push(numInjuries);
									});

									return injuries;
								});

								return dataSeries;
							})();

							let chartConfig = {
								title: `Injuries caused by Police tactical options<br />Jul&nbsp;2016&nbsp;&ndash;&nbsp;Dec&nbsp;2017`,
								showLegend: true,
								labels: injuryCauses,
								dataSeries,
								stacked: true
							};

							let yAxis = {
								max: 800,
								values: 4
							};

							let xAxis = {};

							let $chart = Charter.createBarChart(chartConfig, yAxis, xAxis);

							chart($chart);
						})();
					</script>

					<div id="chart-tor-injury-severity"></div>

					<div class="content">
						<p>I created the rate graph by going through the same process as the prior graph, but dividing each column by the number of events at which a tactical option was used. For this process, I had to ignore injuries caused by "Other - not tactic".</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-chart="chart-tor-injury-rate">
						(() => {
							let dataSeries = (() => {
								injuryCauses.splice(injuryCauses.indexOf('Other - not tactic'), 1);

								let colours = ['#ccc', '#f3dc51', '#e09d1c', '#c55c00', '#a20000'];

								let dataSeries = (['Nil', 'Self', 'At Scene', 'Medical', 'Hospital']).map((treatment, i) => {
									let injuries = {
										name: treatment,
										color: colours[i],
										dataPoints: []
									};
									injuryCauses.forEach(tactic => {
										let numInjuries = 0;

										rows.filter(cols.INJURY_CAUSES, tactic).forEach(row => {
											let injuries = row[cols.INJURY_DETAILS];

											injuries.forEach(injury => {
												if (injury.cause === tactic) {
													if (injury.treatment === treatment) {
														numInjuries += 1;
													}
												}
											});
										});

										injuries.dataPoints.push(numInjuries / getTacticUseRows(tactic).length);
									});

									return injuries;
								});

								return dataSeries;
							})();

							let chartConfig = {
								title: `Rate of injuries caused by Police tactical options<br />Jul&nbsp;2016&nbsp;&ndash;&nbsp;Dec&nbsp;2017`,
								showLegend: true,
								labels: injuryCauses,
								dataSeries,
								stacked: true
							};

							let yAxis = {
								percentage: true,
								toFixed: 1,
								max: 1,
								values: 5
							};

							let xAxis = {};

							let $chart = Charter.createBarChart(chartConfig, yAxis, xAxis);

							chart($chart);
						})();
					</script>

					<div id="chart-tor-injury-rate"></div>
				</div>
			</section>

			<section class="expander js-expander js-codebook__set" id="section-chart-tor-use" data-codebook-set="tor">
				<div class="content">
					<h2><span class="expander__trigger js-expander__trigger" tabindex="0" role="button" aria-expanded="false">Chart: Tactical Option Use</span> <a class="anchor" href="#section-chart-tor-use"></a></h2>
				</div>

				<div class="expander__body">
					<div class="content">
						<p>Using data for July 2016 &ndash; December 2017:</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-use-data">
						rows = data['2016b-2017'].rows;
						cols = data['2016b-2017'].cols;
						enums = data['2016b-2017'].enums;

						log(rows.length);
					</script>

					<samp class="codebook__log" id="log-tor-use-data"></samp>

					<div class="content">
						<p>I excluded the "Communication" tactic because it is not a use of force.</p>

						<p>I sorted the list of tactics by the number of events at which a they were used.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-log="log-tor-tactics-communication">
						let tactics = enums.TACTICS;
						tactics.sort((a, b) => {
							return getTacticUseRows(b).length - getTacticUseRows(a).length;
						});

						tactics.splice(tactics.indexOf('Communication'), 1);

						log(tactics.map(tactic => `${tactic}: ${getTacticUseRows(tactic).length}`).join('\n'));
					</script>

					<samp class="codebook__log" id="log-tor-tactics-communication"></samp>

					<div class="content">
						<p>I created the graph by counting the number of events at which each tactic was used, excluding recordings of firearms or tasers being shown but not used.</p>
					</div>

					<script type="text/codebook" class="codebook__code js-codebook__code" data-codebook-chart="chart-tor-use">
						(() => {
							const labels = tactics;

							let dataSeries = (() => {
								let dataSeries = [{
									name: 'Tor Events',
									color: '#ccc',
									dataPoints: tactics.map(tactic => getTacticUseRows(tactic).length)
								}];

								return dataSeries;
							})();

							let chartConfig = {
								title: `Tactical options used by Police<br />Jul&nbsp;2016&nbsp;&ndash;&nbsp;Dec&nbsp;2017`,
								showLegend: false,
								labels,
								dataSeries
							};

							let yAxis = {
								values: 1,
								valuesAt: [500, 1500, 2500]
							};

							let xAxis = {};

							let $chart = Charter.createBarChart(chartConfig, yAxis, xAxis);

							chart($chart);
						})();
					</script>

					<div id="chart-tor-use"></div>
				</div>
			</section>
		</article>
	</div>
</body>
</html>